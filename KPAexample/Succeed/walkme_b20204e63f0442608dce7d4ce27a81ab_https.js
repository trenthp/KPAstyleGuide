/*!
 * WalkMe
 * http://www.walkme.com/
 *
 * Copyright 2012, WalkMe ltd
 */
function WalkmeSnippet(){function e(){window._walkmeConfig=window._walkmeConfig||{},window._walkmeInternals=window._walkmeInternals||{},J=_walkmeInternals,J.snippetLog=[],i("ish");var e="false";J.isSelfHosted="true"===e,i("ssm"),f(),B=new v,B.cdnServerName.indexOf("###AUTO_DETECT###")>-1&&(i("lad"),$=N(B.cdnServerName.replace("###AUTO_DETECT###","")),B=b(B)),i("lsu");var s,u="https://s3.amazonaws.com/s3.maketutorial.com/users/b20204e63f0442608dce7d4ce27a81ab/settings.txt",l="###GET_MOBILE_SETTINGS_URL###",c=false,d=false,w=1==d||c&&n();if(w?(i("lsm"),s=l,_walkmeConfig.platform=3):(i("lsw"),s=u),Q=p(s),B=y(B),i("cli"),_walkmeConfig.smartLoad){if(top!=window&&!r()&&t())return}else if(1!=window.walkme_load_in_iframe&&top!=window)return;if(i("cuc"),w||E()){i("exl");var g=window[m()],h=J.blocked;if(i("lsl"),a(),i("ipm"),!_()&&(i("clt"),window.document.dontLoadTriangle))return i("bsl"),window.walkme_snippet_blocked=!0,J.blocked=!0,void(J.continueLoad=o);i("slb"),g&&!h&&W("slt","WalkMe Snippet was loaded twice"),i("lss"),o(),i("eok")}else try{i("bns"),walkme_browser_not_supported()}catch(S){}}function n(){return I()}function t(){try{var e=window;do if(e=e.parent.window,e._walkmeConfig)return!0;while(e!=top)}catch(n){}return!1}function r(){try{if(parent.location.href)return!1}catch(e){}return!0}function i(e){J.snippetLog.push(e)}function a(){var e=m();window[e]=z}function o(){window.walkme_custom_settings_data?(i("lso"),s(walkme_custom_settings_data)):(i("lsp"),U("settingsFileStartLoad"),x(Q,null,J.isSelfHosted,"fixedCallback",s))}function s(e){return U("settingsFileEndLoad"),!_()&&window.document.dontLoadTriangle?(J.blocked=!0,void(J.continueLoad=function(){u(e)})):(i("cls"),void u(e))}function u(e){V=b(e);var n=window.walkme_settings_callback;n&&n(V);var t=P("walkme_is_enabled_override");if(void 0!==t){if("0"===t)return}else if(!e.IsEnabled)return;l(e.jQueryFile)}function l(e){if(window.walkme_custom_jquery)window.mtjQuery=walkme_custom_jquery,c();else{var n=k("walkmeCustomjQueryUrl");if(0!=n&&(e=n),J.localJQuery){var t=e.lastIndexOf("/"),r=e.substring(t+1);e="https://localhost/mt/resources/"+r}x(e,c)}}function c(){void 0!=window.mtjQuery&&(H||(H=!0,window.walkme_custom_jquery||mtjQuery.noConflict(),mtjQuery(document).ready(function(){try{w(V)}catch(e){}})))}function d(){var e;J.localLib&&(e="https://localhost/mt/lib/maketutorial_lib.js");var n=k("walkmeCustomeLibUrl");return 0!=n?n:e}function w(e){var n=k("wm-prelibjs");n&&(e.PreLibJsFile=n),e.PreLibJsFile&&""!=e.PreLibJsFile?(window.walkme_pre_lib_loaded=function(){window.walkme_pre_lib_loaded=function(){try{console.log("walkme_pre_lib_loaded was called twice.")}catch(e){}},g(e)},U("preLibStartLoad"),x(e.PreLibJsFile)):g(e)}function g(e){var n=d()||e.LibFile;x(n)}function m(){return _()?"wmPreviewSnippet":"wmSnippet"}function f(){var e="###IS_PREVIEW_MODE###";"true"===e&&(X=Y.preview)}function _(){return X==Y.preview}function v(){this.recorderServer="###RECORDER_SERVER_NAME###",this.cdnServerName="https://cdn.walkme.com",this.storage="crossdomain",this.userGuids=["b20204e63f0442608dce7d4ce27a81ab"],window.walkme_custom_cdn_server&&(this.cdnServerName=walkme_custom_cdn_server),window.walkme_custom_app_server&&(this.recorderServer=walkme_custom_app_server),window.walkme_custom_data_url?this.triangleUrl=walkme_custom_data_url:this.triangleUrl=this.cdnServerName+"###SPECIAL_TRIANGLE_FILE###",window.walkme_custom_datafile_url?this.datafilesArray=walkme_custom_datafile_url:this.datafilesArray="###SPECIAL_DATA_FILE###",window.walkme_custom_widget_url?this.widgetUrl=walkme_custom_widget_url:this.widgetUrl="###SPECIAL_WIDGET_FILE###"}function p(e){var n="walkme_custom_user_settings_",t=P(n+"url",!0),r=P(n+"guid",!0),a=P(n+"env",!0),o=h();return t&&(e=t),r&&(e=e.replace(/(users\/)([^\/]*)(\/)/,"$1"+r+"$3")),(a||""===a)&&(a&&(a+="/"),e=e.replace(/(users\/[^\/]*\/)(.*)(sett)/,"$1"+a+"$3")),e=b(e),J.settingsUrl=e,i(o?"cb":"ncb"),o&&(e+="?b="+(new Date).getTime()),e}function h(){var e=k("walkMe_wm-settings-cache-bust");if(e){var n=/{"val":"(true|false)","exp":(\d+)}/,t=n.exec(e);if(t&&"true"==t[1]&&(new Date).getTime()<parseInt(t[2]))return!0}return!1}function b(e){return void 0==$?e:j(e,function(e){return e.replace("###AUTO_DETECT###",$)})}function S(e){var n,t,r,i=document.cookie.split(";");for(n=0;n<i.length;n++)if(t=i[n].substr(0,i[n].indexOf("=")),r=i[n].substr(i[n].indexOf("=")+1),t=t.replace(/^\s+|\s+$/g,""),t==e)return r;return!1}function k(e){try{if(q){var n=q.getItem(e);if(null!=n)return n}}catch(t){}return!1}function y(e){return e}function E(){var e=P("walkme_dont_check_browser");if("1"===e||_())return!0;var n=C(),t=O();return n&&t}function O(){return!L()&&!T()}function L(){var e="android.+mobile|blackberry|iemobile|ip(hone|od)|phone|symbian|windows (ce|phone)";return A(e)}function I(){var e="android|blackberry|iemobile|ip(ad|hone|od)|phone|symbian|windows (ce|phone)";return A(e)}function A(e){var n=new RegExp(e,"i").test(navigator.userAgent||navigator.vendor||window.opera);return n}function T(){var e=Math.max(screen.width,screen.height),n=Math.min(screen.width,screen.height),t=800>e||600>n;return t}function C(){var e={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var n=0;n<e.length;n++){var t=e[n].string,r=e[n].prop;if(this.versionSearchString=e[n].versionSearch||e[n].identity,t){if(-1!=t.indexOf(e[n].subString))return e[n].identity}else if(r)return e[n].identity}},searchVersion:function(e){var n=e.indexOf(this.versionSearchString);if(-1!=n)return parseFloat(e.substring(n+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};return e.init(),"Chrome"==e.browser||"Firefox"==e.browser||"Safari"==e.browser&&"Windows"!=e.OS?!0:"Explorer"==e.browser&&e.version>=7?!0:(W("icb","WalkMe: Incompatible browser."),!1)}function x(e,n,t,r,i){var a=document.createElement("script");a.async=!0,t&&(e+=(-1==e.indexOf("?")?"?":"&")+"_wmts="+M()),a.src=e,a.id="mt_script",n&&(a.onload=n,a.onreadystatechange=n),F(r,i),D().appendChild(a)}function D(){return G||(G=document.getElementsByTagName("head")[0]),G}function F(e,n){if(e&&n){var t=window[e];window[e]=function(r){window[e]=t,n(r)}}}function M(){return(new Date).getTime()}function N(e){for(var n=document.getElementsByTagName("script"),t=0;t<n.length;t++){var r=n[t],i=r.src;if(i&&i.indexOf("walkme_")>0){if(e){var t=i.indexOf(e),a=R(i.substr(0,t));return a}var t=i.indexOf("walkme_"),a=R(i.substr(0,t-1));return a}}return""}function R(e){return e.replace(/^\s+|\s+$/g,"")}function j(e,n){if("string"==typeof e)return n(e);if("[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<e.length;t++)e[t]=j(e[t],n);return e}if("object"==typeof e){for(var t in e)Object.hasOwnProperty.call(e,t)&&(e[t]=j(e[t],n));return e}return e}function P(e,n){var t=n?k(e):S(e);if(t!==!1)return t;var r=window[e];return void 0!=r?r:void 0}function U(e){try{window._walkmeInternals||(window._walkmeInternals={}),_walkmeInternals.timing||(_walkmeInternals.timing={});var n=_walkmeInternals.timing;n.map||(n.map={}),n.list||(n.list=[]);var t=(new Date).getTime();n.map[e]=t,n.list.push({name:e,time:t})}catch(r){}}function W(e,n){try{i(e),console.log(n)}catch(t){}}U("snippetStartInit");var G,V,B,Q,$,J,q,z=this,H=!1,K="33",Y={publish:0,preview:1},X=Y.publish;try{q=window.localStorage}catch(Z){}this.getSnippetVersion=function(){return K},this.getSettingsFile=function(){return V},this.getServerSettings=function(){return B},this.fixAutoDetectPaths=b,setTimeout(e,0)}new WalkmeSnippet;